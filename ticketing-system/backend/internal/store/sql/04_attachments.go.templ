{{define "attachments_list.sql"}}
SELECT id, ticket_id, filename, content_type, size, storage_key, uploaded_by, uploaded_by_name, created_at
FROM ticket_attachments
WHERE ticket_id = $1
ORDER BY created_at ASC
{{end}}

{{define "attachments_get.sql"}}
SELECT id, ticket_id, filename, content_type, size, storage_key, uploaded_by, uploaded_by_name, created_at
FROM ticket_attachments
WHERE id = $1
{{end}}

{{define "attachments_insert.sql"}}
INSERT INTO ticket_attachments (ticket_id, filename, content_type, size, storage_key, uploaded_by, uploaded_by_name)
VALUES ($1, $2, $3, $4, $5, $6, $7)
RETURNING id, ticket_id, filename, content_type, size, storage_key, uploaded_by, uploaded_by_name, created_at
{{end}}

{{define "attachments_delete.sql"}}
DELETE FROM ticket_attachments
WHERE id = $1
{{end}}
